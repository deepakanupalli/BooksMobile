<wm-page data-ng-controller="AddBookPageController" name="page1">
    <wm-mobile-navbar name="mobile_navbar1" title="ADD BOOK" backbuttoniconclass="glyphicon glyphicon-menu-left">
        <wm-button class="btn-default" caption="" type="button" name="button2" iconclass="fa fa-check" on-click="saveBook" show="false"></wm-button>
    </wm-mobile-navbar>
    <wm-content name="content1">
        <wm-page-content columnwidth="12" name="page_content1">
            <wm-segmented-control name="addBookSegmentedControl" show="true">
                <wm-segment-content caption="SCAN" name="scanSegment">
                    <wm-container name="container2" horizontalalign="center" paddingtop="40">
                        <wm-barcodescanner name="barcodescanner" on-success="getISBNdata;goToManualSegment" iconclass="fa fa-barcode" title="Scan Barcode" caption="Scan Book Barcode" class="btn-lg btn-primary" iconsize="3em"></wm-barcodescanner>
                    </wm-container>
                </wm-segment-content>
                <wm-segment-content caption="MANUAL" name="manualSegment">
                    <wm-container name="container1" horizontalalign="center" backgroundimage="bind:Variables.BookImage.dataSet.dataValue" backgroundrepeat="no-repeat" backgroundposition="center center" backgroundsize="auto 100%" height="120px" on-click="takeBookPicture"
                    margintop="20" marginbottom="20"></wm-container>
                    <wm-liveform name="addBookForm" dataset="bind:Variables.LIBRARYBookData.dataSet" defaultmode="Edit" insertmessage="Book added successfully" novalidate="true" on-success="goToPage-Main" on-beforeservicecall="addBookFormBeforeservicecall($event, $operation, $data)"
                    show="true" captionposition="top">
                        <wm-layoutgrid name="layoutgrid1">
                            <wm-gridrow show="hide" name="gridrow1">
                                <wm-gridcolumn name="show" columnwidth="12">
                                    <wm-form-field display-name="Image Url" show="false" primary-key="false" generator="null" key="imageUrl" type="string" maxvalue="255" is-related="false" readonly="false" required="false" placeholder="Enter value" multiple="false"
                                    regexp=".*" default-value="bind:Variables.BookImage.dataSet.dataValue"></wm-form-field>
                                </wm-gridcolumn>
                            </wm-gridrow>
                            <wm-gridrow show="show" name="gridrow2">
                                <wm-gridcolumn name="show" columnwidth="12">
                                    <wm-form-field display-name="Title" show="true" primary-key="false" generator="null" key="title" type="string" maxvalue="255" is-related="false" readonly="false" required="true" placeholder="Enter Title" class="col-xs-12"
                                    multiple="false" regexp=".*" default-value="bind:Variables.getISBNdata.dataSet.items[0].volumeInfo.title"></wm-form-field>
                                </wm-gridcolumn>
                            </wm-gridrow>
                            <wm-gridrow show="show" name="gridrow3">
                                <wm-gridcolumn name="show" columnwidth="12">
                                    <wm-form-field display-name="Author" show="true" primary-key="false" generator="null" key="author" type="string" maxvalue="255" is-related="false" readonly="false" required="false" placeholder="Enter Author" multiple="false"
                                    regexp=".*" default-value="bind:Variables.getISBNdata.dataSet.items[0].volumeInfo.authors.join(',')"></wm-form-field>
                                </wm-gridcolumn>
                            </wm-gridrow>
                            <wm-gridrow show="show" name="gridrow4">
                                <wm-gridcolumn name="show" columnwidth="12">
                                    <wm-form-field display-name="Publisher" show="true" primary-key="false" generator="null" key="publisher" type="string" maxvalue="255" is-related="false" readonly="false" required="false" placeholder="Enter Publisher" multiple="false"
                                    regexp=".*" default-value="bind:Variables.getISBNdata.dataSet.items[0].volumeInfo.publisher"></wm-form-field>
                                </wm-gridcolumn>
                            </wm-gridrow>
                            <wm-gridrow show="show" name="gridrow5">
                                <wm-gridcolumn name="show" columnwidth="12">
                                    <wm-form-field display-name="ISBN" show="true" primary-key="false" generator="null" key="isbn" type="string" maxvalue="255" is-related="false" readonly="false" required="false" placeholder="Enter ISBN" multiple="false"
                                    regexp=".*" default-value="bind:Widgets.barcodescanner.datavalue"></wm-form-field>
                                </wm-gridcolumn>
                            </wm-gridrow>
                            <wm-gridrow show="show" name="gridrow6">
                                <wm-gridcolumn name="show" columnwidth="12">
                                    <wm-form-field display-name="Description" show="true" primary-key="false" generator="null" key="description" type="string" maxvalue="255" is-related="false" readonly="false" required="false" widget-type="Textarea" placeholder="Add Description"
                                    multiple="false" regexp=".*" default-value="bind:Variables.getISBNdata.dataSet.items[0].volumeInfo.description" height="auto"></wm-form-field>
                                </wm-gridcolumn>
                            </wm-gridrow>
                            <wm-gridrow show="hide" name="gridrow7">
                                <wm-gridcolumn name="show" columnwidth="12">
                                    <wm-form-field display-name="Read Status" show="false" primary-key="false" generator="null" key="readStatus" type="integer" is-related="false" readonly="false" required="false" default-value="1" placeholder="Enter value"
                                    multiple="false" regexp=".*"></wm-form-field>
                                </wm-gridcolumn>
                            </wm-gridrow>
                        </wm-layoutgrid>
                        <wm-form-action key="save" display-name="DONE" show="true" class="btn-primary" iconclass="glyphicon glyphicon-ok" action="save()" type="button" update-mode="true"></wm-form-action>
                    </wm-liveform>
                </wm-segment-content>
            </wm-segmented-control>
        </wm-page-content>
    </wm-content>
</wm-page>